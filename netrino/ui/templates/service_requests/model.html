{% extends "photonic/view.html" %}

{% block content %}
    <form id="metadata_form" autocomplete="off" method='post' enctype="multipart/form-data">
        {{ form }}
    </form>

    {% if 'edit' in view.lower() %}
    <script>

        addSelect2src("{{ model_name }}", "{{ model_name }}", 'yang_model', 'v1/yang-models');
        addSelect2src("{{ interface }}", "{{ interface }}", 'interface', 'v1/interfaces');
        /*
        $('#role_add_domain').on('select2:unselecting', function (e) {
            reset_tenant(e);
        });
        $('#role_add_domain').on('select2:select', function (e) {
            reset_tenant(e)
        });
        $('#role_add_tenant_id').on('select2:unselecting', function (e) {
            reset_role(e)
        });
        $('#role_add_tenant_id').on('select2:select', function (e) {
            reset_role(e)
        });*/
    </script>
    {% endif %}
{% endblock %}

{% block buttons %}
    {% if 'add' in view.lower() %}
    <a href="{{ APP }}/services/templates/edit/{{id}}" class="btn btn-default">Cancel</a>
    <a href="{{ APP }}/services/templates/{{id}}/edit_model/{{model}}" data-form="metadata_form" class="btn btn-primary">Edit</a>
    {% elif 'edit' in view.lower() %}
    <a href="{{ APP }}/services/templates/{{id}}/view_model/{{model}}" class="btn btn-default">Cancel</a>
    <a href="{{ APP }}/services/templates/{{id}}/edit_model/{{model}}/" data-form="metadata_form" class="btn btn-primary">Update</a>
    <a href="{{ APP }}/services/templates/{{id}}/rm_model/{{model}}" class="btn btn-danger" data-close>Delete</a>
    {% else %}
    <a href="#" onclick="close_window();" class="btn btn-default">Cancel</a>
    <a href="{{ APP }}/services/templates/{{id}}/edit_model/{{model}}" class="btn btn-primary">Edit</a>
    {% endif %}
{% endblock %}
